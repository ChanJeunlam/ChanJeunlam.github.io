I"0<h1 id="字符串转换每个类都需要__repr__">字符串转换（每个类都需要__repr__）</h1>

<p>在 Python 中定义一个自定义类之后，如果尝试在控制台中输出其实例或在解释器会话中查看，并不能得到十分令人满意的结果。默认的“转换成字符串”功能非常原始，缺少细节：</p>

<pre><code class="language-python">class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age
Person_Bob = Person('Bob', 35)
print(Person_Bob)
</code></pre>

<p>输出结果：</p>

<pre><code class="language-console">&lt;__main__.Person object at 0x0000015BC9246640&gt;
</code></pre>

<p>可以看到，print只显示类名和对象实例id的字符串（这是CPython中对象的内存地址）。</p>

<p>如何查看具体的内容？</p>

<ol>
  <li>直接打印类的属性</li>
  <li>向类中加入自定义的to_string()方法来绕过这个问题。</li>
</ol>

<pre><code class="language-python">class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age
    def to_string(self):
        return f'Person(name={self.name}, age={self.age})'
Person_Bob = Person('Bob', 35)
print(Person_Bob.to_string())
</code></pre>

<h1 id="来源">来源</h1>

<p>《深入理解Python特性》P051 - P0</p>
:ET